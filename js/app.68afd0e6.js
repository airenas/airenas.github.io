(function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],f=0,d=[];f<l.length;f++)i=l[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09ab":function(e,t,n){"use strict";n("8233")},"0b58":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"bus",(function(){return k}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("FileInput"),n("MusicXMLPlayer")],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div",{class:{simple:!e.dragClass,drag:e.dragClass},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){t.preventDefault(),e.dragClass="drag"},dragenter:function(t){t.preventDefault(),e.dragClass="drag"},dragleave:function(t){t.preventDefault(),e.dragClass=""}}},[n("span",[e._v("Select music XML file:")]),n("v-file-input",{attrs:{counter:"","show-size":"","truncate-length":"50",value:e.file},on:{change:e.fileChange}})],1)])},l=[],s={name:"FileInput",data:function(){return{file:null,dragClass:""}},methods:{fileChange:function(e){console.log("File",e),k.$emit("fileChange",e)},onDrop:function(e){this.dragClass="",console.log("File",e),e.dataTransfer.files.length>0&&(this.file=e.dataTransfer.files[0],k.$emit("fileChange",e.dataTransfer.files[0]))}}},c=s,u=(n("09ab"),n("2877")),f=n("6544"),d=n.n(f),p=n("b0af"),v=n("23a7"),h=Object(u["a"])(c,i,l,!1,null,"1876f454",null),g=h.exports;d()(h,{VCard:p["a"],VFileInput:v["a"]});var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div",{staticClass:"simple"},[n("div",{staticClass:"at-wrap"},[n("div",{staticClass:"at-content"},[n("div",{staticClass:"at-viewport",attrs:{id:"at-viewport"}},[n("div",{staticClass:"at-canvas",attrs:{id:"at-main"}})])])]),n("div",[n("v-btn",{attrs:{color:"primary",elevation:"2",disabled:!e.canPlay},on:{click:e.play}},[e._v(" "+e._s(e.playOrPause))]),n("v-btn",{attrs:{color:"primary",elevation:"2",disabled:!e.canStop},on:{click:e.stop}},[e._v("Stop")])],1)])])},b=[],m=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),{name:"MusicXMLPlayer",data:function(){return{playOrPause:"Play",canPlay:!1,canStop:!1,playing:!1,loading:!1,file:{type:File},at:null,publicPath:"/"}},created:function(){var e=this;k.$on("fileChange",(function(t){console.log("File change"),e.file=t,e.setMusicXML(e.file)}))},mounted:function(){this.at=this.setupControl()},methods:{setupControl:function(){var e=this,t=this.updateControls,n="Roboto",a=document.getElementById("at-main");console.log(a);var o=document.getElementById("at-viewport");console.log("viewPort",o);var r=new alphaTab.AlphaTabApi(a,{file:this.publicPath+"la-cucaracha.xml",player:{scrollOffsetx:-10,enablePlayer:!0,soundFont:this.publicPath+"at/soundfont/sonivox.sf2",scrollElement:o},display:{resources:{titleFont:"normal 32px "+n+", serif",subTitleFont:"normal 20px "+n+", serif",wordsFont:"normal 15px "+n+", serif",effectFont:"italic 12px "+n+", serif",fingeringFont:"normal 14px "+n+", serif",markerFont:"bold 14px "+n+", serif"}}});r.error.on((function(e){console.error("alphaTab error",e)}));var i=[];r.renderStarted.on((function(n){e.loading=!0,t(),n||console.log("started loading");var a=new Map;r.tracks.forEach((function(e){a.set(e.index,e)})),i.forEach((function(e){a.has(e.track.index)?e.classList.add("active"):e.classList.remove("active")}))})),r.soundFontLoad.on((function(e){})),r.soundFontLoaded.on((function(){})),r.renderFinished.on((function(){console.log("render finish"),e.loading=!1,t()})),r.scoreLoaded.on((function(e){console.log("score loaded"),t()})),r.playerPositionChanged.on((function(e){}));document.getElementById("play");return r.playerReady.on((function(){console.log("player ready"),t()})),r.playerStateChanged.on((function(n){console.log("stopped",n.stopped,n.state),e.playing=1==n.state,e.playing?console.log("Playing"):console.log("Stopped"),t()})),r},play:function(){this.at.playPause()},stop:function(){this.at.stop()},updateControls:function(){this.playOrPause=this.playing?"Pause":"Play",this.canPlay=this.at&&this.at.isReadyForPlayback&&!this.loading,this.canStop=this.playing},setMusicXML:function(e){if(e){var t=new FileReader,n=this.at;t.onload=function(e){n.load(e.target.result,[0])},t.readAsArrayBuffer(e)}else this.at.load(null,[0])}}}),P=m,C=(n("b897"),n("8336")),w=Object(u["a"])(P,y,b,!1,null,"869531d0",null),x=w.exports;d()(w,{VBtn:C["a"],VCard:p["a"]});var F={name:"App",components:{MusicXMLPlayer:x,FileInput:g},data:function(){return{}}},O=F,M=n("7496"),_=n("f6c4"),S=Object(u["a"])(O,o,r,!1,null,"7b6af43d",null),j=S.exports;d()(S,{VApp:M["a"],VMain:_["a"]});var L=n("f309");a["a"].use(L["a"]);var T=new L["a"]({}),k=new a["a"];a["a"].config.productionTip=!1,new a["a"]({vuetify:T,render:function(e){return e(j)}}).$mount("#app")},8233:function(e,t,n){},b897:function(e,t,n){"use strict";n("0b58")}});
//# sourceMappingURL=app.68afd0e6.js.map